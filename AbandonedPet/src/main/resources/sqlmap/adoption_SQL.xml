<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="adoption">

	<insert id="insert" parameterType="com.ap.adoption.Adoption" 
			useGeneratedKeys="true" keyProperty="aid">
		<![CDATA[
  			INSERT INTO adoption  
  			(oid, nid, pid, aname, aage, agender, aphone, adistrict, ajob)  
  			VALUES  
  			(#{oid}, #{nid}, #{pid}, #{aname}, #{aage}, #{agender}, #{aphone}, #{adistrict}, #{ajob})  
  		]]>  
	</insert>

	<select id="select_list" resultType="com.ap.adoption.Adoption">
		<![CDATA[
  			SELECT *   
  			FROM adoption  
  			ORDER BY aid DESC  
  		]]>	  
	</select>

	<select id="select_mylist" resultType="com.ap.adoption.Adoption">
		<![CDATA[
  			SELECT *   
  			FROM adoption  
  			WHERE nid = #{nid}  
  			ORDER BY aid DESC  
  		]]>	  
	</select>

	<select id="select_detail" parameterType="String" 
							   resultType="com.ap.adoption.Adoption">
		<![CDATA[
  			SELECT *   
  			FROM adoption   
  			WHERE nid = #{nid}  
  		]]>	  
	</select>
	
	<update id="update_condition" parameterType="com.ap.adoption.Adoption">
		<![CDATA[
  			UPDATE adoption  
  			SET acondition = #{acondition} 
 			WHERE aid = #{aid} 
 		]]>	 
	</update>
	
<!-- 	신청서 작성 후에 수정은 못 하고 삭제만 하게끔 일단.... -->
	<delete id="delete" parameterType="hashMap">
			<![CDATA[
 				DELETE FROM adoption 
 				WHERE aid = #{aid}

			]]>
	</delete>


</mapper>